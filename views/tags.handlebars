 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/public/css/style.css">
  <title>Tags</title>
</head>
  <body>
    <div class="topnav">
      <a href="/home">Home</a>
      <a href="books">Books</a>
      <a href="users">Users</a>
      <a href="groups">Groups</a>
      <a class="active" href="tags">Tags</a>
      <a href="/lists">Lists</a>
      <div class="topnav-right">
        <a href="/logout">Logout</a>
      </div>
    </div>

    <main>
      <form method="POST" action="/tags" class="create-tag">
        <label for="tagName">Create a Tag!</label>
        <input id="tagName" type="text" placeholder="Enter tag" name="tagName"/>
        <button id="doAdd" type="submit">Create</button>
      </form>
      <form method="POST" action="/tags/search" class="new-search">
        <label for="search-term">Search Term</label>
        <input id="search-term" type="text" placeholder="Enter search" name="searchTerm"/>
        <button id="doSearch" type="submit">Search</button>
      </form>
      <p class="error">{{errorMessage}}</p>
    {{#if searchTerm}}
      {{#if groups}}
        <h1>Groups</h1>
        {{#each groups}}
          <div class="groups">
            <ul class="no-bullets">
              <li><a href="/groups/{{this.id}}">{{this.name}}</a></li>
              <form method="POST">
                <button type="submit" formaction="/groups/addMember/{{this.id}}">Click to join this group!</button>
              </form>
            </ul>
           </div>
        {{/each}}
      {{else}}
        <div>
          <h5>No groups found.</h5>
        </div>
      {{/if}}
      {{#if lists}}
        <h1>Lists</h1>
        {{#each lists}}
            <div class="lists">
              <ul class="no-bullets">
                <li><a href="/lists/{{this.id}}">{{this.name}}</a></li>
                <form method="POST" action="/lists/followList/{{this.id}}" class="followList">
                    <button id="follow-list" type="submit">Follow this List</button>
                </form>
              </ul>
            </div>
        {{/each}}
      {{else}}
        <div>
          <h5>No lists found.</h5>
        </div>
      {{/if}}
    {{else}}
      {{#if groups}}
        <h1>Groups</h1>
        {{#each groups}}
          <div class="groups">
            <ul class="no-bullets">
              <li><a href="/groups/{{this.id}}">{{this.name}}</a></li>
              <form method="POST">
                <button type="submit" formaction="/groups/addMember/{{this.id}}">Click to join this group!</button>
              </form>
            </ul>
           </div>
        {{/each}}
      {{else}}
        <div>
          <h5>No groups found.</h5>
        </div>
      {{/if}}
      {{#if lists}}
        <h1>Lists</h1>
        {{#each lists}}
            <div class="lists">
              <ul class="no-bullets">
                <li>List name: <a href="/lists/{{this.id}}">{{this.name}}</a></li>
                <form method="POST" action="/lists/followList/{{this.id}}" class="followList">
                    <button id="follow-list" type="submit">Follow this List</button>
                </form>
              </ul>
            </div>
        {{/each}}
      {{else}}
        <div>
          <h5>No lists found.</h5>
        </div>
      {{/if}}
    {{/if}}
    
    </main>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="public/books.js"></script>
  </body>
</html>
